---
title: "[C#] Maps, Hashtables, and Sets"

categories:
  - CS
tags:
  - [Maps, Hashtables, Sets]

toc: true
toc_sticky: true

date: 2024-05-15
last_modified_at: 2024-05-29
---

{% capture notice-2 %}

ðŸ“‹ This is my note-taking from what I learned in the course!

- <https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2?view=net-8.0>
- <https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.sorteddictionary-2?view=net-8.0>
- <https://learn.microsoft.com/en-us/dotnet/fundamentals/runtime-libraries/system-collections-generic-hashset%7Bt%7D>
- <https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.sortedset-1?view=net-8.0>

  {% endcapture %}

<div class="notice--danger">{{ notice-2 | markdownify }}</div>

<br>

# Maps, Hashtables, and Sets

This week focuses on different data structures used for storing data in key-value pairs and sets, which are critical for efficient data retrieval and manipulation.

## Maps

Maps model a searchable collection of key-value entries.

**Key Operations:**
- **get(k):** Returns the value associated with key k, or null if no such key exists.
- **put(k, v):** Inserts or replaces an entry. Returns the old value if the key exists.
- **remove(k):** Removes the entry with key k and returns its value, or null if the key doesn't exist.
- **size(), isEmpty():** Utility functions to check the size and if the map is empty.
- **entrySet(), keySet(), values():** Return collections of entries, keys, and values.

### Example of Using a Map

```plaintext
put(5, "A")  // returns null, map: {5="A"}
get(7)       // returns null, map: {5="A"}
remove(2)    // returns null, map: {5="A"}
```

## Hashtables

A hashtable implements a map using a hash function to compute the index of an array bucket for each key.

### Hash Functions

- **Purpose:** Maps keys of any type to integers within a fixed interval [0, N-1].
- **Example:** For integer keys, `h(x) = x % N` could be a hash function.

### Collision Handling

- **Separate Chaining:** Uses a linked list to store multiple entries at the same index.
- **Linear Probing:** Places colliding items in the next available bucket.

#### Code Example: Separate Chaining in a Hashtable

```csharp
Dictionary<int, string> hashtable = new Dictionary<int, string>();
hashtable.Add(1, "Apple");
hashtable.Add(2, "Banana");
hashtable.Add(1, "Grape");  // Collision, replaces "Apple" with "Grape"
```

## Sets

A set is a collection of unique elements that supports efficient membership testing.

### HashSet in C#

`HashSet<T>` is used for high-performance set operations, where T is the type of elements stored in the set.

**Code Example:**

```csharp
HashSet<int> numbers = new HashSet<int>();
numbers.Add(1);
numbers.Add(2);
numbers.Add(1);  // Duplicate, not added
```

### SortedSet in C#

`SortedSet<T>` maintains elements in a sorted order, providing efficient insertion and removal while keeping the set sorted.

**Code Example:**

```csharp
SortedSet<int> sortedNumbers = new SortedSet<int>();
sortedNumbers.Add(1);
sortedNumbers.Add(3);
sortedNumbers.Add(2);  // Automatically sorts to {1, 2, 3}
```

## Multimaps

A multimap allows multiple values per key, differentiating it from a standard map where each key can only have one value.

**Implementation Idea:**
- Use a standard map where each key points to a list of values.

**Code Example:**

```csharp
Dictionary<int, List<string>> multimap = new Dictionary<int, List<string>>();
multimap.Add(1, new List<string> { "Apple", "Apricot" });
multimap[1].Add("Avocado");  // List now contains "Apple", "Apricot", "Avocado"
```

<br>

---

<br>

[Back to Top](#){: .btn .btn--primary }{: .align-right}
